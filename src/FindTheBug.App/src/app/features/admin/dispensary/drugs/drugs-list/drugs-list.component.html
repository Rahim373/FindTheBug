<div class="page-container">
  <div class="page-header">
    <h2>Drug Management</h2>
    <button nz-button nzType="primary" (click)="createDrug()">
      <span nz-icon nzType="plus"></span>
      Add Drug
    </button>
  </div>

  <div class="search-bar">
    <nz-input-group [nzSuffix]="suffixIconSearch">
      <input type="text" nz-input placeholder="Search drugs..." [(ngModel)]="searchText" (keyup.enter)="onSearch()" />
    </nz-input-group>
    <ng-template #suffixIconSearch>
      <span nz-icon nzType="search"></span>
    </ng-template>
    <button nz-button nzType="primary" (click)="onSearch()">Search</button>
  </div>

  <nz-table #drugsTable [nzData]="drugs" [nzLoading]="loading" [nzTotal]="totalCount" [nzPageSize]="pageSize"
    [nzPageIndex]="pageNumber" [nzFrontPagination]="false" (nzPageIndexChange)="onPageChange($event)"
    (nzPageSizeChange)="onPageSizeChange($event)" [nzShowSizeChanger]="true" [nzPageSizeOptions]="[10, 20, 50]">
    <thead>
      <tr>
        <th>Name</th>
        <th>Strength</th>
        <th>Generic Name</th>
        <th>Brand</th>
        <th>Type</th>
        <th>Unit Price</th>
        <th>Status</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let drug of drugs">
        <td>{{ drug.name }}</td>
        <td>{{ drug.strength }}</td>
        <td>{{ drug.genericName }}</td>
        <td>{{ drug.brandName }}</td>
        <td>{{ drug.type }}</td>
        <td>{{ drug.unitPrice | currency }}</td>
        <td>
          <nz-tag [nzColor]="drug.isActive ? 'success' : 'default'">
            {{ drug.isActive ? 'Active' : 'Inactive' }}
          </nz-tag>
        </td>
        <td>
          <button nz-button nzType="link" (click)="editDrug(drug.id)">
            <span nz-icon nzType="edit"></span>
          </button>
          <button nz-button nzType="link" nzDanger (click)="deleteDrug(drug)">
            <span nz-icon nzType="delete"></span>
          </button>
        </td>
      </tr>
    </tbody>
  </nz-table>
</div>